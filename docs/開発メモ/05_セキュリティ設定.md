# セキュリティ設定

## CORS

- CORS: Cross-Origin Resource Sharing
  - 異なるオリジン(スキーム+ドメイン+ポート番号/)間でリソース共有を許可する仕組み
  - サーバは、 Access-Control-Allow-Origin/Methods 等をヘッダに付けて返す
  - ブラウザは、サーバのレスポンスを悪用されないように JS への公開を制御する
  - 全て許可した場合
    - サーバが返したレスポンスを、受け取ったサイト側の JS で読むのを許可してしまう
      - →XSS、CSRF の攻撃対象になる
  - CORS を適切に設定した場合
    - サーバが返したレスポンスが、受け取ったサイトのオリジンと一致すれば JS 操作ができる
      - → 許可したサイトでのみ API レスポンスを操作できる
  - Next.js の SSR からサーバフェッチする場合は制限がないので不要
